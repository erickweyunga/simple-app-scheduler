2025-01-16 14:58:54,091 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 14:58:54,091 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 14:58:54,091 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 14:58:54,095 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T14:59:00Z', 'timezone': 'Africa/Dar_Es_Salaam', 'phone_number': '1234567890', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 14:58:54,095 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T14:59:00Z', 'timezone': 'Africa/Dar_Es_Salaam', 'phone_number': '1234567890', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 14:58:54,095 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T14:59:00Z', 'timezone': 'Africa/Dar_Es_Salaam', 'phone_number': '1234567890', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 14:58:54,377 - whatsapp_scheduler - ERROR - [validators.py:29] - Invalid timezone: Africa/Dar_Es_Salaam
2025-01-16 14:58:54,377 - whatsapp_scheduler - ERROR - [validators.py:29] - Invalid timezone: Africa/Dar_Es_Salaam
2025-01-16 14:58:54,377 - whatsapp_scheduler - ERROR - [validators.py:29] - Invalid timezone: Africa/Dar_Es_Salaam
2025-01-16 14:59:03,205 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 14:59:03,205 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 14:59:03,205 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 14:59:03,206 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T14:59:00Z', 'timezone': 'Africa/Dar Es Salaam', 'phone_number': '1234567890', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 14:59:03,206 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T14:59:00Z', 'timezone': 'Africa/Dar Es Salaam', 'phone_number': '1234567890', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 14:59:03,206 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T14:59:00Z', 'timezone': 'Africa/Dar Es Salaam', 'phone_number': '1234567890', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 14:59:03,207 - whatsapp_scheduler - ERROR - [validators.py:29] - Invalid timezone: Africa/Dar Es Salaam
2025-01-16 14:59:03,207 - whatsapp_scheduler - ERROR - [validators.py:29] - Invalid timezone: Africa/Dar Es Salaam
2025-01-16 14:59:03,207 - whatsapp_scheduler - ERROR - [validators.py:29] - Invalid timezone: Africa/Dar Es Salaam
2025-01-16 15:00:34,977 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 15:00:34,977 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 15:00:34,977 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 15:00:34,979 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T15:01:00Z', 'timezone': 'Africa/Dar_es_Salaam', 'phone_number': '1234567890', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:00:34,979 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T15:01:00Z', 'timezone': 'Africa/Dar_es_Salaam', 'phone_number': '1234567890', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:00:34,979 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T15:01:00Z', 'timezone': 'Africa/Dar_es_Salaam', 'phone_number': '1234567890', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:00:34,981 - whatsapp_scheduler - INFO - [message_routes.py:36] - Scheduling message with job ID: msg_1737028834.980738 for 2025-01-16 18:01:00+03:00
2025-01-16 15:00:34,981 - whatsapp_scheduler - INFO - [message_routes.py:36] - Scheduling message with job ID: msg_1737028834.980738 for 2025-01-16 18:01:00+03:00
2025-01-16 15:00:34,981 - whatsapp_scheduler - INFO - [message_routes.py:36] - Scheduling message with job ID: msg_1737028834.980738 for 2025-01-16 18:01:00+03:00
2025-01-16 15:00:34,983 - whatsapp_scheduler - INFO - [message_routes.py:59] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737028834.980738', 'scheduled_time': '2025-01-16T18:01:00+03:00', 'timezone': 'Africa/Dar_es_Salaam'}
2025-01-16 15:00:34,983 - whatsapp_scheduler - INFO - [message_routes.py:59] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737028834.980738', 'scheduled_time': '2025-01-16T18:01:00+03:00', 'timezone': 'Africa/Dar_es_Salaam'}
2025-01-16 15:00:34,983 - whatsapp_scheduler - INFO - [message_routes.py:59] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737028834.980738', 'scheduled_time': '2025-01-16T18:01:00+03:00', 'timezone': 'Africa/Dar_es_Salaam'}
2025-01-16 15:01:03,171 - whatsapp_scheduler - INFO - [message_routes.py:70] - Fetching all scheduled messages
2025-01-16 15:01:03,171 - whatsapp_scheduler - INFO - [message_routes.py:70] - Fetching all scheduled messages
2025-01-16 15:01:03,171 - whatsapp_scheduler - INFO - [message_routes.py:70] - Fetching all scheduled messages
2025-01-16 15:01:03,173 - whatsapp_scheduler - INFO - [message_routes.py:112] - Successfully fetched 1 scheduled messages
2025-01-16 15:01:03,173 - whatsapp_scheduler - INFO - [message_routes.py:112] - Successfully fetched 1 scheduled messages
2025-01-16 15:01:03,173 - whatsapp_scheduler - INFO - [message_routes.py:112] - Successfully fetched 1 scheduled messages
2025-01-16 15:01:39,263 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 15:01:39,263 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 15:01:39,263 - whatsapp_scheduler - INFO - [message_routes.py:16] - Received schedule message request
2025-01-16 15:01:39,264 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T15:02:00Z', 'timezone': 'Africa/Dar_es_Salaam', 'phone_number': '0747955454', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:01:39,264 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T15:02:00Z', 'timezone': 'Africa/Dar_es_Salaam', 'phone_number': '0747955454', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:01:39,264 - whatsapp_scheduler - DEBUG - [message_routes.py:18] - Request data: {'schedule_time': '2025-01-16T15:02:00Z', 'timezone': 'Africa/Dar_es_Salaam', 'phone_number': '0747955454', 'auth_token': 'your_auth_token_here', 'phone_number_id': 'your_phone_number_id_here', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': '$29.99'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:01:39,264 - whatsapp_scheduler - INFO - [message_routes.py:36] - Scheduling message with job ID: msg_1737028899.264403 for 2025-01-16 18:02:00+03:00
2025-01-16 15:01:39,264 - whatsapp_scheduler - INFO - [message_routes.py:36] - Scheduling message with job ID: msg_1737028899.264403 for 2025-01-16 18:02:00+03:00
2025-01-16 15:01:39,264 - whatsapp_scheduler - INFO - [message_routes.py:36] - Scheduling message with job ID: msg_1737028899.264403 for 2025-01-16 18:02:00+03:00
2025-01-16 15:01:39,266 - whatsapp_scheduler - INFO - [message_routes.py:59] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737028899.264403', 'scheduled_time': '2025-01-16T18:02:00+03:00', 'timezone': 'Africa/Dar_es_Salaam'}
2025-01-16 15:01:39,266 - whatsapp_scheduler - INFO - [message_routes.py:59] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737028899.264403', 'scheduled_time': '2025-01-16T18:02:00+03:00', 'timezone': 'Africa/Dar_es_Salaam'}
2025-01-16 15:01:39,266 - whatsapp_scheduler - INFO - [message_routes.py:59] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737028899.264403', 'scheduled_time': '2025-01-16T18:02:00+03:00', 'timezone': 'Africa/Dar_es_Salaam'}
2025-01-16 15:01:42,707 - whatsapp_scheduler - INFO - [message_routes.py:70] - Fetching all scheduled messages
2025-01-16 15:01:42,707 - whatsapp_scheduler - INFO - [message_routes.py:70] - Fetching all scheduled messages
2025-01-16 15:01:42,707 - whatsapp_scheduler - INFO - [message_routes.py:70] - Fetching all scheduled messages
2025-01-16 15:01:42,709 - whatsapp_scheduler - INFO - [message_routes.py:112] - Successfully fetched 2 scheduled messages
2025-01-16 15:01:42,709 - whatsapp_scheduler - INFO - [message_routes.py:112] - Successfully fetched 2 scheduled messages
2025-01-16 15:01:42,709 - whatsapp_scheduler - INFO - [message_routes.py:112] - Successfully fetched 2 scheduled messages
2025-01-16 15:04:51,518 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:04:51,518 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:04:51,518 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:04:51,519 - whatsapp_scheduler - ERROR - [message_routes.py:212] - Error sending immediate message: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\routes\message_routes.py", line 170, in send_immediate_message
    data = request.get_json()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\flask\wrappers.py", line 130, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-01-16 15:04:51,519 - whatsapp_scheduler - ERROR - [message_routes.py:212] - Error sending immediate message: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\routes\message_routes.py", line 170, in send_immediate_message
    data = request.get_json()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\flask\wrappers.py", line 130, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-01-16 15:04:51,519 - whatsapp_scheduler - ERROR - [message_routes.py:212] - Error sending immediate message: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\routes\message_routes.py", line 170, in send_immediate_message
    data = request.get_json()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\flask\wrappers.py", line 130, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-01-16 15:05:48,730 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:05:48,730 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:05:48,730 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:05:48,731 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:05:48,731 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:05:48,731 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:05:48,732 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:05:48,732 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:05:48,732 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:06:09,815 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v17.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v17.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v17.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:06:09,815 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v17.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v17.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v17.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:06:09,815 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v17.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v17.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v17.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000252606D1940>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:06:09,910 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:06:09,910 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:06:09,910 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:07:43,200 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:07:43,200 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:07:43,200 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:07:43,201 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:07:43,201 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:07:43,201 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:07:43,201 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:07:43,201 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:07:43,201 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:08:04,319 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:08:04,319 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:08:04,319 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000002B1B3961850>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:08:04,360 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:08:04,360 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:08:04,360 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:08:53,345 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:08:53,345 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:08:53,345 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:08:53,350 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:08:53,350 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:08:53,350 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:08:53,351 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:08:53,351 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:08:53,351 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:09:14,457 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:09:14,457 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:09:14,457 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001F34CB4D250>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:09:14,490 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:09:14,490 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:09:14,490 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:10:03,589 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:10:03,589 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:10:03,589 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:10:03,591 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:10:03,591 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:10:03,591 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:10:03,592 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:10:03,592 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:10:03,592 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:10:04,971 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 404
2025-01-16 15:10:04,971 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 404
2025-01-16 15:10:04,971 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 404
2025-01-16 15:10:04,973 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'ADbN-xffLBeBzrQuOJ7J5Fh'}}
2025-01-16 15:10:04,973 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'ADbN-xffLBeBzrQuOJ7J5Fh'}}
2025-01-16 15:10:04,973 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'ADbN-xffLBeBzrQuOJ7J5Fh'}}
2025-01-16 15:10:04,973 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'ADbN-xffLBeBzrQuOJ7J5Fh'}}
2025-01-16 15:10:04,973 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'ADbN-xffLBeBzrQuOJ7J5Fh'}}
2025-01-16 15:10:04,973 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'ADbN-xffLBeBzrQuOJ7J5Fh'}}
2025-01-16 15:10:04,978 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:10:04,978 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:10:04,978 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:14:30,072 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:14:30,072 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:14:30,072 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:14:30,072 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:14:30,072 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:14:30,074 - whatsapp_scheduler - ERROR - [template_routes.py:51] - Error in template creation: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\routes\template_routes.py", line 16, in create_template
    data = request.get_json()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\flask\wrappers.py", line 130, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-01-16 15:14:30,074 - whatsapp_scheduler - ERROR - [template_routes.py:51] - Error in template creation: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\routes\template_routes.py", line 16, in create_template
    data = request.get_json()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\flask\wrappers.py", line 130, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-01-16 15:14:30,074 - whatsapp_scheduler - ERROR - [template_routes.py:51] - Error in template creation: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\routes\template_routes.py", line 16, in create_template
    data = request.get_json()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\flask\wrappers.py", line 130, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-01-16 15:14:30,074 - whatsapp_scheduler - ERROR - [template_routes.py:51] - Error in template creation: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\routes\template_routes.py", line 16, in create_template
    data = request.get_json()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\flask\wrappers.py", line 130, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-01-16 15:14:30,074 - whatsapp_scheduler - ERROR - [template_routes.py:51] - Error in template creation: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\routes\template_routes.py", line 16, in create_template
    data = request.get_json()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\flask\wrappers.py", line 130, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\werkzeug\wrappers\request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-01-16 15:15:13,425 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:15:13,425 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:15:13,425 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:15:13,425 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:15:13,425 - whatsapp_scheduler - INFO - [template_routes.py:15] - Received template creation request
2025-01-16 15:15:13,426 - whatsapp_scheduler - INFO - [template_service.py:17] - Creating new WhatsApp template: payment_reminder
2025-01-16 15:15:13,426 - whatsapp_scheduler - INFO - [template_service.py:17] - Creating new WhatsApp template: payment_reminder
2025-01-16 15:15:13,426 - whatsapp_scheduler - INFO - [template_service.py:17] - Creating new WhatsApp template: payment_reminder
2025-01-16 15:15:13,426 - whatsapp_scheduler - INFO - [template_service.py:17] - Creating new WhatsApp template: payment_reminder
2025-01-16 15:15:13,426 - whatsapp_scheduler - INFO - [template_service.py:17] - Creating new WhatsApp template: payment_reminder
2025-01-16 15:15:13,429 - whatsapp_scheduler - DEBUG - [template_service.py:18] - Template data: {'name': 'payment_reminder', 'language': 'en', 'category': 'UTILITY', 'components': [{'type': 'HEADER', 'format': 'TEXT', 'text': 'Payment Reminder', 'example': {'header_text': ['Payment Reminder']}}, {'type': 'BODY', 'text': 'Hello! Your payment of {{1}} is due on {{2}}. Please complete the payment to avoid service interruption.', 'example': {'body_text': [['75,000 TZS', 'January 20, 2025']]}}, {'type': 'FOOTER', 'text': 'Thank you for choosing our service'}, {'type': 'BUTTONS', 'buttons': [{'type': 'QUICK_REPLY', 'text': 'Pay Now'}, {'type': 'QUICK_REPLY', 'text': 'Contact Support'}]}]}
2025-01-16 15:15:13,429 - whatsapp_scheduler - DEBUG - [template_service.py:18] - Template data: {'name': 'payment_reminder', 'language': 'en', 'category': 'UTILITY', 'components': [{'type': 'HEADER', 'format': 'TEXT', 'text': 'Payment Reminder', 'example': {'header_text': ['Payment Reminder']}}, {'type': 'BODY', 'text': 'Hello! Your payment of {{1}} is due on {{2}}. Please complete the payment to avoid service interruption.', 'example': {'body_text': [['75,000 TZS', 'January 20, 2025']]}}, {'type': 'FOOTER', 'text': 'Thank you for choosing our service'}, {'type': 'BUTTONS', 'buttons': [{'type': 'QUICK_REPLY', 'text': 'Pay Now'}, {'type': 'QUICK_REPLY', 'text': 'Contact Support'}]}]}
2025-01-16 15:15:13,429 - whatsapp_scheduler - DEBUG - [template_service.py:18] - Template data: {'name': 'payment_reminder', 'language': 'en', 'category': 'UTILITY', 'components': [{'type': 'HEADER', 'format': 'TEXT', 'text': 'Payment Reminder', 'example': {'header_text': ['Payment Reminder']}}, {'type': 'BODY', 'text': 'Hello! Your payment of {{1}} is due on {{2}}. Please complete the payment to avoid service interruption.', 'example': {'body_text': [['75,000 TZS', 'January 20, 2025']]}}, {'type': 'FOOTER', 'text': 'Thank you for choosing our service'}, {'type': 'BUTTONS', 'buttons': [{'type': 'QUICK_REPLY', 'text': 'Pay Now'}, {'type': 'QUICK_REPLY', 'text': 'Contact Support'}]}]}
2025-01-16 15:15:13,429 - whatsapp_scheduler - DEBUG - [template_service.py:18] - Template data: {'name': 'payment_reminder', 'language': 'en', 'category': 'UTILITY', 'components': [{'type': 'HEADER', 'format': 'TEXT', 'text': 'Payment Reminder', 'example': {'header_text': ['Payment Reminder']}}, {'type': 'BODY', 'text': 'Hello! Your payment of {{1}} is due on {{2}}. Please complete the payment to avoid service interruption.', 'example': {'body_text': [['75,000 TZS', 'January 20, 2025']]}}, {'type': 'FOOTER', 'text': 'Thank you for choosing our service'}, {'type': 'BUTTONS', 'buttons': [{'type': 'QUICK_REPLY', 'text': 'Pay Now'}, {'type': 'QUICK_REPLY', 'text': 'Contact Support'}]}]}
2025-01-16 15:15:13,429 - whatsapp_scheduler - DEBUG - [template_service.py:18] - Template data: {'name': 'payment_reminder', 'language': 'en', 'category': 'UTILITY', 'components': [{'type': 'HEADER', 'format': 'TEXT', 'text': 'Payment Reminder', 'example': {'header_text': ['Payment Reminder']}}, {'type': 'BODY', 'text': 'Hello! Your payment of {{1}} is due on {{2}}. Please complete the payment to avoid service interruption.', 'example': {'body_text': [['75,000 TZS', 'January 20, 2025']]}}, {'type': 'FOOTER', 'text': 'Thank you for choosing our service'}, {'type': 'BUTTONS', 'buttons': [{'type': 'QUICK_REPLY', 'text': 'Pay Now'}, {'type': 'QUICK_REPLY', 'text': 'Contact Support'}]}]}
2025-01-16 15:15:34,572 - whatsapp_scheduler - ERROR - [template_service.py:29] - Error creating template: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\template_service.py", line 20, in create_whatsapp_template
    response = requests.post(url, json=template_data, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:15:34,572 - whatsapp_scheduler - ERROR - [template_service.py:29] - Error creating template: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\template_service.py", line 20, in create_whatsapp_template
    response = requests.post(url, json=template_data, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:15:34,572 - whatsapp_scheduler - ERROR - [template_service.py:29] - Error creating template: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\template_service.py", line 20, in create_whatsapp_template
    response = requests.post(url, json=template_data, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:15:34,572 - whatsapp_scheduler - ERROR - [template_service.py:29] - Error creating template: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\template_service.py", line 20, in create_whatsapp_template
    response = requests.post(url, json=template_data, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:15:34,572 - whatsapp_scheduler - ERROR - [template_service.py:29] - Error creating template: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\template_service.py", line 20, in create_whatsapp_template
    response = requests.post(url, json=template_data, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/message_templates (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCE2A0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:19:03,195 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:03,195 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:03,195 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:03,195 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:03,195 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:03,196 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:03,196 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:03,196 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:03,196 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:03,196 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:03,198 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:19:03,198 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:19:03,198 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:19:03,198 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:19:03,198 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:19:24,225 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:19:24,225 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:19:24,225 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:19:24,225 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:19:24,225 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08C080>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:19:24,276 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:19:24,276 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:19:24,276 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:19:24,276 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:19:24,276 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:19:57,895 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:57,895 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:57,895 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:57,895 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:57,895 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:19:57,898 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:57,898 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:57,898 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:57,898 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:57,898 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:19:57,901 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:19:57,901 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:19:57,901 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:19:57,901 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:19:57,901 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:18,990 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:18,990 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:18,990 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:18,990 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:18,990 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0EDCFA40>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:19,032 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:19,032 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:19,032 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:19,032 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:19,032 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:26,806 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:26,806 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:26,806 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:26,806 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:26,806 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:26,808 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:26,808 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:26,808 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:26,808 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:26,808 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:26,809 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'sample_payment_reminder', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:26,809 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'sample_payment_reminder', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:26,809 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'sample_payment_reminder', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:26,809 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'sample_payment_reminder', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:26,809 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'sample_payment_reminder', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:47,866 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:47,866 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:47,866 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:47,866 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:47,866 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08CC50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:20:47,942 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:47,942 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:47,942 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:47,942 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:47,942 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:20:52,429 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:52,429 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:52,429 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:52,429 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:52,429 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:20:52,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:52,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:52,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:52,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:52,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:20:52,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:52,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:52,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:52,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:20:52,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:13,471 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:21:13,471 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:21:13,471 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:21:13,471 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:21:13,471 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001AA0F08DB50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:21:13,534 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:21:13,534 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:21:13,534 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:21:13,534 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:21:13,534 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:21:22,708 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:22,708 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:22,708 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:22,708 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:22,708 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:22,710 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:22,710 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:22,710 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:22,710 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:22,710 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:22,712 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:22,712 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:22,712 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:22,712 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:22,712 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:40,428 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:40,428 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:40,428 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:40,428 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:40,428 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:40,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:40,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:40,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:40,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:40,431 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:40,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:40,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:40,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:40,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:40,433 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'subscription_payment_reminder', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:42,035 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 404
2025-01-16 15:21:42,035 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 404
2025-01-16 15:21:42,035 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 404
2025-01-16 15:21:42,035 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 404
2025-01-16 15:21:42,035 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 404
2025-01-16 15:21:42,039 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,039 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,039 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,039 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,039 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,039 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,039 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,039 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,039 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,039 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132001) Template name does not exist in the translation', 'type': 'OAuthException', 'code': 132001, 'error_data': {'messaging_product': 'whatsapp', 'details': 'template name (subscription_payment_reminder) does not exist in en_US'}, 'fbtrace_id': 'AmDQWrh5xcM2EO5rCcUOplg'}}
2025-01-16 15:21:42,046 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:21:42,046 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:21:42,046 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:21:42,046 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:21:42,046 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:21:56,317 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:56,317 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:56,317 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:56,317 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:56,317 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:21:56,320 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:56,320 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:56,320 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:56,320 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:56,320 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:21:56,321 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:56,321 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:56,321 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:56,321 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:56,321 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en_US'}, 'components': [{'type': 'header', 'parameters': [{'type': 'text', 'text': 'Premium'}]}, {'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium'}, {'type': 'text', 'text': 'TZS 75,000'}, {'type': 'text', 'text': 'January 20, 2025'}]}]}}
2025-01-16 15:21:57,570 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 400
2025-01-16 15:21:57,570 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 400
2025-01-16 15:21:57,570 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 400
2025-01-16 15:21:57,570 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 400
2025-01-16 15:21:57,570 - whatsapp_scheduler - INFO - [whatsapp_service.py:30] - WhatsApp API Response status: 400
2025-01-16 15:21:57,571 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,571 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,571 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,571 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,571 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:31] - WhatsApp API Response: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,573 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,573 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,573 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,573 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,573 - whatsapp_scheduler - ERROR - [whatsapp_service.py:34] - WhatsApp API error: {'error': {'message': '(#132000) Number of parameters does not match the expected number of params', 'type': 'OAuthException', 'code': 132000, 'error_data': {'messaging_product': 'whatsapp', 'details': 'header: number of localizable_params (1) does not match the expected number of params (0)'}, 'fbtrace_id': 'AkXEN44PbDcjqloFwrOBMTh'}}
2025-01-16 15:21:57,579 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:21:57,579 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:21:57,579 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:21:57,579 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:21:57,579 - whatsapp_scheduler - INFO - [message_routes.py:194] - Message sent successfully
2025-01-16 15:22:56,282 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:22:56,282 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:22:56,282 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:22:56,282 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:22:56,282 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:22:56,284 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:22:56,284 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:22:56,284 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:22:56,284 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:22:56,284 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:22:56,286 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:22:56,286 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:22:56,286 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:22:56,286 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:22:56,286 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:23:17,373 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:23:17,373 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:23:17,373 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:23:17,373 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:23:17,373 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000024294DCB410>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:23:17,430 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:23:17,430 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:23:17,430 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:23:17,430 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:23:17,430 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:23:40,240 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:23:40,240 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:23:40,240 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:23:40,240 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:23:40,240 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:23:40,242 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:23:40,242 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:23:40,242 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:23:40,242 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:23:40,242 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:23:40,244 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:23:40,244 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:23:40,244 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:23:40,244 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:23:40,244 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'template', 'template': {'name': 'hello_world', 'language': {'code': 'en'}, 'components': [{'type': 'body', 'parameters': [{'type': 'text', 'text': 'Premium User'}]}]}}
2025-01-16 15:24:01,349 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:24:01,349 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:24:01,349 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:24:01,349 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:24:01,349 - whatsapp_scheduler - ERROR - [whatsapp_service.py:39] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000231C2CBBF50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:24:01,399 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:24:01,399 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:24:01,399 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:24:01,399 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:24:01,399 - whatsapp_scheduler - ERROR - [message_routes.py:208] - Failed to send message
2025-01-16 15:29:37,637 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:29:37,637 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:29:37,637 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:29:37,637 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:29:37,637 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:29:37,639 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:29:37,639 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:29:37,639 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:29:37,639 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:29:37,639 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:29:37,641 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:29:37,641 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:29:37,641 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:29:37,641 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:29:37,641 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:30:11,995 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:30:11,995 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:30:11,995 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:30:11,995 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:30:11,995 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:30:11,996 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:30:11,996 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:30:11,996 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:30:11,996 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:30:11,996 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:30:11,997 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:30:11,997 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:30:11,997 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:30:11,997 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:30:11,997 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}
2025-01-16 15:30:33,085 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:30:33,085 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:30:33,085 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:30:33,085 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:30:33,085 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001B39A0C9AF0>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:32:46,097 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:32:46,097 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:32:46,097 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:32:46,097 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:32:46,097 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:32:46,099 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:32:46,099 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:32:46,099 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:32:46,099 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:32:46,099 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:32:46,101 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:32:46,101 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:32:46,101 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:32:46,101 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:32:46,101 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:34:26,261 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:34:26,261 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:34:26,261 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:34:26,261 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:34:26,261 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:34:26,285 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:34:26,285 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:34:26,285 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:34:26,285 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:34:26,285 - whatsapp_scheduler - INFO - [whatsapp_service.py:24] - Sending WhatsApp message to 255747955454
2025-01-16 15:34:26,287 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:34:26,287 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:34:26,287 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:34:26,287 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:34:26,287 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:25] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:34:47,376 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:34:47,376 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:34:47,376 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:34:47,376 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:34:47,376 - whatsapp_scheduler - ERROR - [whatsapp_service.py:36] - Error sending WhatsApp message: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\maver\dev\simple-app-scheduler\app\services\whatsapp_service.py", line 27, in send_whatsapp_message
    response = requests.post(url, json=payload, headers=headers)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\maver\dev\udsm-timetable-bot\timestone\venv\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='graph.facebook.com', port=443): Max retries exceeded with url: /v21.0/483784138145682/messages (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000015AC8F7AD50>, 'Connection to graph.facebook.com timed out. (connect timeout=None)'))
2025-01-16 15:35:49,819 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:35:49,819 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:35:49,819 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:35:49,819 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:35:49,819 - whatsapp_scheduler - INFO - [message_routes.py:169] - Received immediate message request
2025-01-16 15:35:49,821 - whatsapp_scheduler - INFO - [whatsapp_service.py:19] - Sending WhatsApp message to 255747955454
2025-01-16 15:35:49,821 - whatsapp_scheduler - INFO - [whatsapp_service.py:19] - Sending WhatsApp message to 255747955454
2025-01-16 15:35:49,821 - whatsapp_scheduler - INFO - [whatsapp_service.py:19] - Sending WhatsApp message to 255747955454
2025-01-16 15:35:49,821 - whatsapp_scheduler - INFO - [whatsapp_service.py:19] - Sending WhatsApp message to 255747955454
2025-01-16 15:35:49,821 - whatsapp_scheduler - INFO - [whatsapp_service.py:19] - Sending WhatsApp message to 255747955454
2025-01-16 15:35:49,823 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:20] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:35:49,823 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:20] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:35:49,823 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:20] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:35:49,823 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:20] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:35:49,823 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:20] - Request payload: {'messaging_product': 'whatsapp', 'to': '255747955454', 'type': 'text', 'text': {'body': 'Hello! Your payment is due'}}
2025-01-16 15:36:02,415 - whatsapp_scheduler - INFO - [whatsapp_service.py:46] - WhatsApp API Response status: 200
2025-01-16 15:36:02,415 - whatsapp_scheduler - INFO - [whatsapp_service.py:46] - WhatsApp API Response status: 200
2025-01-16 15:36:02,415 - whatsapp_scheduler - INFO - [whatsapp_service.py:46] - WhatsApp API Response status: 200
2025-01-16 15:36:02,415 - whatsapp_scheduler - INFO - [whatsapp_service.py:46] - WhatsApp API Response status: 200
2025-01-16 15:36:02,415 - whatsapp_scheduler - INFO - [whatsapp_service.py:46] - WhatsApp API Response status: 200
2025-01-16 15:36:02,416 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:47] - WhatsApp API Response: {'messaging_product': 'whatsapp', 'contacts': [{'input': '255747955454', 'wa_id': '255747955454'}], 'messages': [{'id': 'wamid.HBgMMjU1NzQ3OTU1NDU0FQIAERgSRkQ0RDI1NUZFNjA3ODk1RUQwAA=='}]}
2025-01-16 15:36:02,416 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:47] - WhatsApp API Response: {'messaging_product': 'whatsapp', 'contacts': [{'input': '255747955454', 'wa_id': '255747955454'}], 'messages': [{'id': 'wamid.HBgMMjU1NzQ3OTU1NDU0FQIAERgSRkQ0RDI1NUZFNjA3ODk1RUQwAA=='}]}
2025-01-16 15:36:02,416 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:47] - WhatsApp API Response: {'messaging_product': 'whatsapp', 'contacts': [{'input': '255747955454', 'wa_id': '255747955454'}], 'messages': [{'id': 'wamid.HBgMMjU1NzQ3OTU1NDU0FQIAERgSRkQ0RDI1NUZFNjA3ODk1RUQwAA=='}]}
2025-01-16 15:36:02,416 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:47] - WhatsApp API Response: {'messaging_product': 'whatsapp', 'contacts': [{'input': '255747955454', 'wa_id': '255747955454'}], 'messages': [{'id': 'wamid.HBgMMjU1NzQ3OTU1NDU0FQIAERgSRkQ0RDI1NUZFNjA3ODk1RUQwAA=='}]}
2025-01-16 15:36:02,416 - whatsapp_scheduler - DEBUG - [whatsapp_service.py:47] - WhatsApp API Response: {'messaging_product': 'whatsapp', 'contacts': [{'input': '255747955454', 'wa_id': '255747955454'}], 'messages': [{'id': 'wamid.HBgMMjU1NzQ3OTU1NDU0FQIAERgSRkQ0RDI1NUZFNjA3ODk1RUQwAA=='}]}
2025-01-16 15:38:50,757 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:38:50,757 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:38:50,757 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:38:50,757 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:38:50,757 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:38:50,912 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 0 scheduled messages
2025-01-16 15:38:50,912 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 0 scheduled messages
2025-01-16 15:38:50,912 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 0 scheduled messages
2025-01-16 15:38:50,912 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 0 scheduled messages
2025-01-16 15:38:50,912 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 0 scheduled messages
2025-01-16 15:39:19,466 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:19,466 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:19,466 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:19,466 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:19,466 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:19,468 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-20T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:19,468 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-20T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:19,468 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-20T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:19,468 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-20T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:19,468 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-20T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:19,468 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031159.468937 for 2025-01-20 15:40:00+00:00
2025-01-16 15:39:19,468 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031159.468937 for 2025-01-20 15:40:00+00:00
2025-01-16 15:39:19,468 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031159.468937 for 2025-01-20 15:40:00+00:00
2025-01-16 15:39:19,468 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031159.468937 for 2025-01-20 15:40:00+00:00
2025-01-16 15:39:19,468 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031159.468937 for 2025-01-20 15:40:00+00:00
2025-01-16 15:39:19,470 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031159.468937', 'scheduled_time': '2025-01-20T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:19,470 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031159.468937', 'scheduled_time': '2025-01-20T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:19,470 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031159.468937', 'scheduled_time': '2025-01-20T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:19,470 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031159.468937', 'scheduled_time': '2025-01-20T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:19,470 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031159.468937', 'scheduled_time': '2025-01-20T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:27,226 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:27,226 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:27,226 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:27,226 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:27,226 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:27,228 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 1 scheduled messages
2025-01-16 15:39:27,228 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 1 scheduled messages
2025-01-16 15:39:27,228 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 1 scheduled messages
2025-01-16 15:39:27,228 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 1 scheduled messages
2025-01-16 15:39:27,228 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 1 scheduled messages
2025-01-16 15:39:45,423 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:45,423 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:45,423 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:45,423 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:45,423 - whatsapp_scheduler - INFO - [message_routes.py:17] - Received schedule message request
2025-01-16 15:39:45,425 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-16T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:45,425 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-16T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:45,425 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-16T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:45,425 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-16T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:45,425 - whatsapp_scheduler - DEBUG - [message_routes.py:19] - Request data: {'phone_number': '255747955454', 'auth_token': 'EAAHcU7r3FgIBO0cEZAgoZA1Hufv0Lu1YEFuCAUhdfnctfD08i5hh8TSga4MDfs7mrTmZALkfFhv43rPHR4BZA7orzIuwYj9mkqvL8W9w3N6Runpjiax2o4Y82C3JFa8LLh65zgQ70lC0GkCgqJT3xXIQNf5WaRbOjqeDKMyT0vwy7d6jn00HxCEdKyg3nWGK', 'phone_number_id': '483784138145682', 'schedule_time': '2025-01-16T15:40:00+00:00', 'message_data': {'type': 'text', 'text': {'preview_url': False, 'body': 'Hello! Your payment is due'}}}
2025-01-16 15:39:45,426 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031185.426723 for 2025-01-16 15:40:00+00:00
2025-01-16 15:39:45,426 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031185.426723 for 2025-01-16 15:40:00+00:00
2025-01-16 15:39:45,426 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031185.426723 for 2025-01-16 15:40:00+00:00
2025-01-16 15:39:45,426 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031185.426723 for 2025-01-16 15:40:00+00:00
2025-01-16 15:39:45,426 - whatsapp_scheduler - INFO - [message_routes.py:37] - Scheduling message with job ID: msg_1737031185.426723 for 2025-01-16 15:40:00+00:00
2025-01-16 15:39:45,428 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031185.426723', 'scheduled_time': '2025-01-16T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:45,428 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031185.426723', 'scheduled_time': '2025-01-16T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:45,428 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031185.426723', 'scheduled_time': '2025-01-16T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:45,428 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031185.426723', 'scheduled_time': '2025-01-16T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:45,428 - whatsapp_scheduler - INFO - [message_routes.py:60] - Message scheduled successfully: {'message': 'Message scheduled successfully', 'job_id': 'msg_1737031185.426723', 'scheduled_time': '2025-01-16T15:40:00+00:00', 'timezone': 'UTC'}
2025-01-16 15:39:51,566 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:51,566 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:51,566 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:51,566 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:51,566 - whatsapp_scheduler - INFO - [message_routes.py:71] - Fetching all scheduled messages
2025-01-16 15:39:51,567 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 2 scheduled messages
2025-01-16 15:39:51,567 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 2 scheduled messages
2025-01-16 15:39:51,567 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 2 scheduled messages
2025-01-16 15:39:51,567 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 2 scheduled messages
2025-01-16 15:39:51,567 - whatsapp_scheduler - INFO - [message_routes.py:108] - Successfully fetched 2 scheduled messages
